import{r as v,_ as D,j as a,a as e,F as N,h as A,f as B}from"./app.d74aa348.js";import{d as H}from"./index.esm.55602545.js";import{a as L,b as M}from"./index.esm.7bb86cad.js";import{h as P}from"./index.esm.75506972.js";/* empty css              */import{T as C}from"./TextInput.6585cb9d.js";import{P as $}from"./PrimaryButton.46052bd7.js";const J=({header:s,link:c,datefilter:o=!1,data:d,filters:h,sendFilter:i,decrementFiter:m,...p})=>{var F,j;const[n,x]=v.exports.useState(""),{serverFilters:S}=D().props,[l,f]=v.exports.useState({...S}),u=t=>{const{name:r,value:g}=t.target;if(r==="connote")f({...l,[r]:g});else{const b=r.split(".")[0];f({...l,[b]:{...l[b],[r.split(".")[1]]:g}})}},y=t=>{x(t)};v.exports.useEffect(()=>{const t=r=>{r.target.tagName=="TH"?y(r.target.getAttribute("data-item")):y("")};return window.addEventListener("click",t),()=>{window.removeEventListener("click",t)}});const k=t=>{t.preventDefault();const r=document.getElementById("filterinput");i({[r.name]:r.value})},w=t=>{const r={...h};delete r[t],m(r)},T=(t,r=!0,g=!0)=>e("div",{className:"absolute h-full text-white -bottom-full left-0",onClick:b=>b.stopPropagation(),children:a("div",{className:"bg-gray-900",children:[a("div",{className:"flex justify-end items-center text-2xl",children:[e("div",{className:"text-sm font-light px-4 py-2 mr-4",children:"Filters"}),r?a(N,{children:[e(B,{as:"a",method:"get",className:"text-xl py-2 px-4 hover:bg-black focus:border focus:border-blue-500",children:e(L,{})}),e(B,{as:"a",method:"get",className:"text-xl py-2 px-4 hover:bg-black focus:border focus:border-blue-500",children:e(M,{})})]}):a(N,{children:[e("button",{disabled:!0,className:"text-xl py-2 px-4 hover:bg-black focus:border focus:border-blue-500 disabled:cursor-not-allowed",children:e(L,{})}),e("button",{disabled:!0,className:"text-xl py-2 px-4 hover:bg-black focus:border focus:border-blue-500 disabled:cursor-not-allowed",children:e(M,{})})]})]}),e("form",{onSubmit:k,children:e("input",{disabled:!g,id:"filterinput",name:t,className:"w-full font-light text-white bg-gray-700 py-2 px-4 disabled:cursor-not-allowed"})})]})}),E=()=>e("thead",{className:"text-xs text-gray-700 bg-gray-200 border-b border-b-gray-300 dark:border-b-gray-600 dark:bg-gray-700 dark:text-gray-400 sticky top-0",children:a("tr",{className:"text-center",children:[e("th",{className:"px-6 py-1",children:"No"}),s.map((t,r)=>a("th",{scope:"col","data-item":t.column,className:`border-l border-l-gray-300 dark:border-l-gray-600 hover:cursor-pointer relative py-3 px-6 whitespace-nowrap ${n==t.column?"bg-gray-900 text-white":"bg-transparent"}`,children:[t.title,n==t.column&&T(t.column,t.sortable,t.filterable)]},r))]})}),O=()=>e(N,{children:e("div",{className:"inline-block lg:w-72 mb-2",children:Object.entries(h).map(([t,r])=>{const g=s.find(b=>b.column==t).title;return a("div",{className:"flex justify-start items-center gap-3 border hover:bg-green-100 mb-1",children:[e("div",{className:"p-1.5 bg-green-400 text-white text-xl",children:e(P,{})}),a("p",{className:"text-sm text-blue-500",children:[g," = ",r]}),e("button",{onClick:()=>w(t),className:"flex items-center justify-center ml-auto mr-2 focus:border-blue-500 hover:bg-gray-300 p-1 text-xs",children:e(H,{})})]},t)})})});return a("div",{className:"relative mb-3",children:[e("div",{}),o&&a("form",{className:"flex items-center gap-4 mb-3",onSubmit:t=>{t.preventDefault(),A.visit(window.location.href,{data:l})},children:[e("p",{children:"Create On"}),e(C,{name:`${o}.startfrom`,className:"text-xs",type:"date",onChange:u,value:((F=l[o])==null?void 0:F.startfrom)||""}),e("p",{children:"To"}),e(C,{name:`${o}.thru`,className:"text-xs",type:"date",onChange:u,value:((j=l[o])==null?void 0:j.thru)||""}),e(C,{name:"connote",className:"text-xs",placeholder:"awb",type:"text",onChange:u,value:l.connote||""}),e($,{title:"submit",type:"submit",padding:"px-3 py-2"})]}),a("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg mb-3 h-[70vh]",children:[O(),a("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400 relative",children:[E(),d]})]})]})};function K({currentPage:s,totalPages:c,onPageChange:o}){const d=s>1,h=s<c,i=Math.max(1,s-2),m=Math.min(c,i+4),p=Array.from({length:m-i+1},(n,x)=>i+x);return e("nav",{"aria-label":"Page navigation example",children:a("ul",{className:"flex items-center -space-x-px h-8 text-sm",children:[d&&e("li",{children:a("button",{onClick:()=>o(s-1),className:"flex items-center justify-center px-3 h-8 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",children:[e("span",{className:"sr-only",children:"Previous"}),e("svg",{className:"w-2.5 h-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10",children:e("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 1 1 5l4 4"})})]})}),p.map(n=>e("li",{children:e("button",{onClick:()=>o(n),disabled:s===n,className:"disabled:bg-gray-500 disabled:text-white flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",children:n})},n)),h&&e("li",{children:a("button",{onClick:()=>o(s+1),className:"flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",children:[e("span",{className:"sr-only",children:"Next"}),e("svg",{className:"w-2.5 h-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10",children:e("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 9 4-4-4-4"})})]})})]})})}function Q(s,c){const o=D().props,[d,h]=v.exports.useState(s),[i,m]=v.exports.useState(1),p=o.responses.filter(l=>{var f,u;for(const y in d){const k=(f=d[y])==null?void 0:f.toLowerCase(),w=(u=l[y])==null?void 0:u.toLowerCase();if(typeof w=="string"&&!w.includes(k))return!1}return!0}),n=Math.ceil(p.length/c),x=p.slice((i-1)*c,i*c);return{filters:d,setFilters:h,currentPage:i,setCurrentPage:m,displayData:x,totalPages:n,handlePageChange:l=>{m(l)}}}export{J as M,K as P,Q as u};
