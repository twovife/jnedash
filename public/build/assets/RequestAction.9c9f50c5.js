import{A as W,C as E}from"./AuthenticatedLayout.48f8babb.js";import{I as O}from"./InputArea.1d8ef67c.js";import{I as N}from"./InputError.fdb70530.js";import{I as i}from"./InputLabel.d7029a24.js";import{L as Z}from"./Loading.55effcf5.js";import{P as G}from"./PrimaryButton.f02db613.js";import{S as u}from"./SelectList.4c7f5142.js";import{T as t}from"./TextInput.599251b4.js";import{K as J,r as g,a as e,j as a,F as Q,n as X,f as $}from"./app.4519d6dc.js";import{d as A}from"./dayjs.min.415809bc.js";import"./index.esm.b6eae90a.js";import"./index.esm.1cd3efba.js";import"./iconBase.54c9ab8b.js";import"./index.esm.99e4193c.js";import"./ResponsiveNavLink.908da91c.js";import"./transition.c4409f95.js";import"./Toast.182ee843.js";import"./index.esm.854d166d.js";/* empty css              */const Ce=({auth:I,...L})=>{var C,w,_,S,k,q,D;const{request:s,followups:Y,complaincase:m}=L,{data:c,setData:f,post:j,processing:F,errors:h}=J({branch:"Kediri",complainsource_id:9,complain_case_id:"",sla:"",zona:"",case_priority:"",note:s.case_reason}),P=Y.map(l=>({id:l.name,value:l.name,display:l.name})),[y,b]=g.exports.useState({nullvalue:!0,values:""}),[T,z]=g.exports.useState(!1),[x,p]=g.exports.useState({nullvalue:!0,values:""}),[B,M]=g.exports.useState(),H=[...new Set(m.map(l=>l.category))].map(l=>({id:l,value:l,display:l})),V=l=>{M(l.target.value);const n=m.filter(r=>r.category==l.target.value),d=[...new Set(n.map(r=>r.case))].map((r,le)=>({id:r,value:r,display:r}));b({nullvalue:!0,values:null}),p({nullvalue:!0,values:null}),setTimeout(()=>{d.length>0?b({nullvalue:!0,values:d}):b({nullvalue:!1,values:null})},500)},K=(l,n)=>{const d=m.filter(r=>r.category==l&&r.case===n).map(r=>({id:r.id,value:r.id,display:r.sub_case}));p({nullvalue:!0,values:null}),setTimeout(()=>{d.length>0?p({nullvalue:!0,values:d}):p({nullvalue:!1,values:null})},500)},R=l=>{v(l);const n=m.filter(o=>o.id==l.target.value);f(o=>({...o,sla:n[0].sla,zona:n[0].zona}))},v=l=>{f(l.target.name,l.target.value)},U=[{id:1,value:"critical",display:"critical"},{id:2,value:"hight",display:"high"},{id:3,value:"medium",display:"medium"},{id:4,value:"low",display:"low"}];return e(W,{auth:I,header:a(Q,{children:[e("h2",{className:"font-semibold text-lg text-gray-800 dark:text-white leading-tight",children:"Action Claim"}),e(X,{title:"Approve Claim"})]}),children:a(E,{children:[e(Z,{show:T}),e("form",{onSubmit:l=>{l.preventDefault(),z(!0),j(route("csoffice.complainrequest.generatestore",s.id))},children:a("div",{className:"max-w-7xl mx-auto lg:grid lg:grid-cols-8 lg:space-y-12 gap-3 py-4 px-4 lg:px-0",children:[a("div",{className:"col-span-6",children:[e("h1",{className:"mb-2 text-lg",children:"Input Data Ticketing"}),a("div",{className:"grid grid-cols-4 gap-x-4 mb-4",children:[a("div",{className:"mb-2",children:[e(i,{value:"Branch"}),e(t,{name:"branch",disabled:!0,value:c.branch,className:"block w-full mt-1"})]}),a("div",{className:"mb-2",children:[e(i,{value:"Source"}),e(t,{disabled:!0,name:"complainsource_id",value:"Sosmed - Landing Page",className:"block w-full mt-1"})]})]}),a("div",{className:"grid grid-cols-4 gap-x-4 mb-4",children:[a("div",{className:"mb-2",children:[e(i,{value:"Caller Status"}),e(t,{disabled:!0,value:s.callers.caller,className:"block w-full mt-1"})]}),a("div",{className:"mb-2",children:[e(i,{value:"Caller Status"}),e(t,{disabled:!0,value:s.caller_sub_category,className:"block w-full mt-1"})]}),a("div",{className:"mb-2",children:[e(i,{value:"Caller Status"}),e(t,{disabled:!0,value:s.caller_contact_name,className:"block w-full mt-1"})]}),a("div",{className:"mb-2",children:[e(i,{value:"Caller Status"}),e(t,{disabled:!0,value:s.caller_contact_person,className:"block w-full mt-1"})]})]}),a("div",{className:"grid grid-cols-8 gap-2 mb-4",children:[a("div",{className:"col-span-2",children:[e(i,{value:"Category"}),e(u,{className:"w-full mt-1",nullvalue:!0,options:H,onChange:V})]}),a("div",{className:"col-span-2",children:[e(i,{value:"Case"}),e(u,{className:"w-full mt-1",options:y.values,onChange:l=>K(B,l.target.value),nullvalue:y.nullvalue})]}),a("div",{className:"col-span-2",children:[e(i,{value:"Sub Case"}),e(u,{name:"complain_case_id",id:"complain_case_id",onChange:R,className:"w-full mt-1",options:x.values,nullvalue:x.nullvalue}),e(N,{message:h.complain_case_id,className:"mt-1"})]}),a("div",{className:"col-span-1",children:[e(i,{value:"SLA"}),e(t,{className:"mt-1 block w-full",disabled:!0,value:c.sla})]}),a("div",{className:"col-span-1",children:[e(i,{value:"Zone"}),e(t,{className:"mt-1 block w-full",disabled:!0,value:c.zona})]})]}),a("div",{className:"grid grid-cols-8 gap-2",children:[a("div",{className:"col-span-2",children:[e(i,{value:"Case Priority"}),e(u,{className:"w-full mt-1",options:U,nullvalue:!0,onChange:v,name:"case_priority",value:c.case_priority}),e(N,{message:h.case_priority,className:"mt-1"})]}),a("div",{className:"col-span-1",children:[e(i,{value:"Due Date"}),e(t,{className:"mt-1 block w-full",disabled:!0,value:A().add(c.sla,"day").format("DD/MM/YYYY")})]}),a("div",{className:"col-span-2",children:[e(i,{value:"Followup By"}),e(u,{className:"w-full mt-1",options:P,nullvalue:!0,onChange:v,name:"followup_by",value:c.followup_by}),e(N,{message:h.followup_by,className:"mt-1"})]})]}),e("div",{className:"grid grid-cols-8 gap-2",children:a("div",{className:"col-span-3",children:[e(i,{value:"Note"}),e(O,{name:"note",id:"note",onChange:v,value:c.note,className:"mt-1 block w-full"})]})}),s.request_status=="open"&&a("div",{className:"w-full text-right flex gap-3",children:[e(G,{disabled:F,className:"ml-auto",type:"submit",title:"submit"}),e($,{className:"bg-red-500 disabled:hover:bg-red-800 hover:bg-red-700 focus:bg-red-600 active:bg-red-900 focus:ring-red-500 disabled:cursor-not-allowed flex gap-2 items-center px-4 py-3 border border-transparent rounded-md font-semibold text-xs text-white tracking-widest focus:outline-none focus:ring-2 transition ease-in-out duration-150",as:"button",method:"post",href:route("csoffice.complainrequest.generatestore",s.id),data:{action:"rejected"},children:"Reject"})]})]}),a("div",{className:"col-span-2",children:[a("div",{className:"grid grid-cols-2 border-b",children:[e("div",{className:"py-2 px-3",children:"Nomor AWB"}),e("div",{className:"py-2 px-3",children:(C=s.cnote)==null?void 0:C.connote})]}),a("div",{className:"grid grid-cols-2 border-b",children:[e("div",{className:"py-2 px-3",children:"Input Date"}),e("div",{className:"py-2 px-3",children:A((w=s.cnote)==null?void 0:w.connote_date).format("DD/MM/YYYY")})]}),a("div",{className:"grid grid-cols-2 border-b",children:[e("div",{className:"py-2 px-3",children:"Origin"}),e("div",{className:"py-2 px-3",children:(_=s.cnote)==null?void 0:_.origin})]}),a("div",{className:"grid grid-cols-2 border-b",children:[e("div",{className:"py-2 px-3",children:"Destination"}),e("div",{className:"py-2 px-3",children:(S=s.cnote)==null?void 0:S.destination})]}),a("div",{className:"grid grid-cols-2 border-b",children:[e("div",{className:"py-2 px-3",children:"Cnee"}),e("div",{className:"py-2 px-3",children:(k=s.cnote)==null?void 0:k.receiver_name})]}),a("div",{className:"grid grid-cols-2 border-b",children:[e("div",{className:"py-2 px-3",children:"Cnee Phone"}),e("div",{className:"py-2 px-3",children:(q=s.cnote)==null?void 0:q.receiver_phone})]}),a("div",{className:"grid grid-cols-2 border-b",children:[e("div",{className:"py-2 px-3",children:"Cnee Addres"}),e("div",{className:"py-2 px-3",children:(D=s.cnote)==null?void 0:D.receiver_city})]})]})]})})]})})};export{Ce as default};
