import{A as R,C as U}from"./AuthenticatedLayout.e8a394f6.js";import{I as W}from"./InputArea.0a10f2e2.js";import{I as b}from"./InputError.fa811d7d.js";import{I as s}from"./InputLabel.2aa8bf6e.js";import{P as E}from"./PrimaryButton.5ea39586.js";import{S as u}from"./SelectList.908578dd.js";import{T as t}from"./TextInput.5ae182e8.js";import{K as O,r as N,a as e,j as a,F as Z,n as G,f as J}from"./app.b9f1e905.js";import{d as A}from"./dayjs.min.09c5e888.js";import"./index.esm.78e75ff7.js";import"./index.esm.0eabf67f.js";import"./iconBase.abfcc6c6.js";import"./index.esm.f7fb1cf4.js";import"./ResponsiveNavLink.e34ab6f6.js";import"./transition.f1611b7b.js";import"./Loading.d30cadc8.js";/* empty css              */import"./Toast.44efcbf7.js";import"./index.esm.2a42969b.js";const fe=({auth:I,...Y})=>{var C,w,_,S,k,D,q;const{request:i,followups:j,complaincase:m}=Y,{data:c,setData:f,post:F,processing:L,errors:g}=O({branch:"Kediri",complainsource_id:9,complain_case_id:"",sla:"",zona:"",case_priority:"",note:i.case_reason}),P=j.map(l=>({id:l.name,value:l.name,display:l.name})),[y,h]=N.exports.useState({nullvalue:!0,values:""}),[x,p]=N.exports.useState({nullvalue:!0,values:""}),[T,z]=N.exports.useState(),B=[...new Set(m.map(l=>l.category))].map(l=>({id:l,value:l,display:l})),M=l=>{z(l.target.value);const n=m.filter(r=>r.category==l.target.value),d=[...new Set(n.map(r=>r.case))].map((r,$)=>({id:r,value:r,display:r}));h({nullvalue:!0,values:null}),p({nullvalue:!0,values:null}),setTimeout(()=>{d.length>0?h({nullvalue:!0,values:d}):h({nullvalue:!1,values:null})},500)},H=(l,n)=>{const d=m.filter(r=>r.category==l&&r.case===n).map(r=>({id:r.id,value:r.id,display:r.sub_case}));p({nullvalue:!0,values:null}),setTimeout(()=>{d.length>0?p({nullvalue:!0,values:d}):p({nullvalue:!1,values:null})},500)},V=l=>{v(l);const n=m.filter(o=>o.id==l.target.value);f(o=>({...o,sla:n[0].sla,zona:n[0].zona}))},v=l=>{f(l.target.name,l.target.value)},K=[{id:1,value:"critical",display:"critical"},{id:2,value:"hight",display:"high"},{id:3,value:"medium",display:"medium"},{id:4,value:"low",display:"low"}];return e(R,{auth:I,header:a(Z,{children:[e("h2",{className:"font-semibold text-lg text-gray-800 dark:text-white leading-tight",children:"Action Claim"}),e(G,{title:"Approve Claim"})]}),children:e(U,{children:e("form",{onSubmit:l=>{l.preventDefault(),F(route("csoffice.complainrequest.generatestore",i.id))},children:a("div",{className:"max-w-7xl mx-auto lg:grid lg:grid-cols-8 lg:space-y-12 gap-3 py-4 px-4 lg:px-0",children:[a("div",{className:"col-span-6",children:[e("h1",{className:"mb-2 text-lg",children:"Input Data Ticketing"}),a("div",{className:"grid grid-cols-4 gap-x-4 mb-4",children:[a("div",{className:"mb-2",children:[e(s,{value:"Branch"}),e(t,{name:"branch",disabled:!0,value:c.branch,className:"block w-full mt-1"})]}),a("div",{className:"mb-2",children:[e(s,{value:"Source"}),e(t,{disabled:!0,name:"complainsource_id",value:"Sosmed - Landing Page",className:"block w-full mt-1"})]})]}),a("div",{className:"grid grid-cols-4 gap-x-4 mb-4",children:[a("div",{className:"mb-2",children:[e(s,{value:"Caller Status"}),e(t,{disabled:!0,value:i.callers.caller,className:"block w-full mt-1"})]}),a("div",{className:"mb-2",children:[e(s,{value:"Caller Status"}),e(t,{disabled:!0,value:i.caller_sub_category,className:"block w-full mt-1"})]}),a("div",{className:"mb-2",children:[e(s,{value:"Caller Status"}),e(t,{disabled:!0,value:i.caller_contact_name,className:"block w-full mt-1"})]}),a("div",{className:"mb-2",children:[e(s,{value:"Caller Status"}),e(t,{disabled:!0,value:i.caller_contact_person,className:"block w-full mt-1"})]})]}),a("div",{className:"grid grid-cols-8 gap-2 mb-4",children:[a("div",{className:"col-span-2",children:[e(s,{value:"Category"}),e(u,{className:"w-full mt-1",nullvalue:!0,options:B,onChange:M})]}),a("div",{className:"col-span-2",children:[e(s,{value:"Case"}),e(u,{className:"w-full mt-1",options:y.values,onChange:l=>H(T,l.target.value),nullvalue:y.nullvalue})]}),a("div",{className:"col-span-2",children:[e(s,{value:"Sub Case"}),e(u,{name:"complain_case_id",id:"complain_case_id",onChange:V,className:"w-full mt-1",options:x.values,nullvalue:x.nullvalue}),e(b,{message:g.complain_case_id,className:"mt-1"})]}),a("div",{className:"col-span-1",children:[e(s,{value:"SLA"}),e(t,{className:"mt-1 block w-full",disabled:!0,value:c.sla})]}),a("div",{className:"col-span-1",children:[e(s,{value:"Zone"}),e(t,{className:"mt-1 block w-full",disabled:!0,value:c.zona})]})]}),a("div",{className:"grid grid-cols-8 gap-2",children:[a("div",{className:"col-span-2",children:[e(s,{value:"Case Priority"}),e(u,{className:"w-full mt-1",options:K,nullvalue:!0,onChange:v,name:"case_priority",value:c.case_priority}),e(b,{message:g.case_priority,className:"mt-1"})]}),a("div",{className:"col-span-1",children:[e(s,{value:"Due Date"}),e(t,{className:"mt-1 block w-full",disabled:!0,value:A().add(c.sla,"day").format("DD/MM/YYYY")})]}),a("div",{className:"col-span-2",children:[e(s,{value:"Followup By"}),e(u,{className:"w-full mt-1",options:P,nullvalue:!0,onChange:v,name:"followup_by",value:c.followup_by}),e(b,{message:g.followup_by,className:"mt-1"})]})]}),e("div",{className:"grid grid-cols-8 gap-2",children:a("div",{className:"col-span-3",children:[e(s,{value:"Note"}),e(W,{name:"note",id:"note",onChange:v,value:c.note,className:"mt-1 block w-full"})]})}),a("div",{className:"w-full text-right flex gap-3",children:[e(E,{disabled:L,className:"ml-auto",type:"submit",title:"submit"}),e(J,{className:"bg-red-500 disabled:hover:bg-red-800 hover:bg-red-700 focus:bg-red-600 active:bg-red-900 focus:ring-red-500 disabled:cursor-not-allowed flex gap-2 items-center px-4 py-3 border border-transparent rounded-md font-semibold text-xs text-white tracking-widest focus:outline-none focus:ring-2 transition ease-in-out duration-150",as:"button",method:"post",href:route("csoffice.complainrequest.generatestore",i.id),data:{action:"rejected"},children:"Reject"})]})]}),a("div",{className:"col-span-2",children:[a("div",{className:"grid grid-cols-2 border-b",children:[e("div",{className:"py-2 px-3",children:"Nomor AWB"}),e("div",{className:"py-2 px-3",children:(C=i.cnote)==null?void 0:C.connote})]}),a("div",{className:"grid grid-cols-2 border-b",children:[e("div",{className:"py-2 px-3",children:"Input Date"}),e("div",{className:"py-2 px-3",children:A((w=i.cnote)==null?void 0:w.connote_date).format("DD/MM/YYYY")})]}),a("div",{className:"grid grid-cols-2 border-b",children:[e("div",{className:"py-2 px-3",children:"Origin"}),e("div",{className:"py-2 px-3",children:(_=i.cnote)==null?void 0:_.origin})]}),a("div",{className:"grid grid-cols-2 border-b",children:[e("div",{className:"py-2 px-3",children:"Destination"}),e("div",{className:"py-2 px-3",children:(S=i.cnote)==null?void 0:S.destination})]}),a("div",{className:"grid grid-cols-2 border-b",children:[e("div",{className:"py-2 px-3",children:"Cnee"}),e("div",{className:"py-2 px-3",children:(k=i.cnote)==null?void 0:k.receiver_name})]}),a("div",{className:"grid grid-cols-2 border-b",children:[e("div",{className:"py-2 px-3",children:"Cnee Phone"}),e("div",{className:"py-2 px-3",children:(D=i.cnote)==null?void 0:D.receiver_phone})]}),a("div",{className:"grid grid-cols-2 border-b",children:[e("div",{className:"py-2 px-3",children:"Cnee Addres"}),e("div",{className:"py-2 px-3",children:(q=i.cnote)==null?void 0:q.receiver_city})]})]})]})})})})};export{fe as default};
