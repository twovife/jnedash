import{P as F,I}from"./Paginate.66f81a3b.js";import{M as T}from"./Modal.b5d6779e.js";import{P as i}from"./PrimaryButton.9a7fd745.js";import{r as n,u as j,j as a,F as A,a as e}from"./app.ef92ad8e.js";import{d as g}from"./dayjs.min.45a64dea.js";import{a as R}from"./index.esm.a7ef5833.js";import"./transition.bee2fc7a.js";import"./iconBase.41df802e.js";function G({datas:c,onFilterChange:x,filterValue:u}){const{total:b,from:f,to:y,next_page_url:w,prev_page_url:N}=c,[k,v]=n.exports.useState(),[C,o]=n.exports.useState(!1),{put:M,processing:l,error:z,reset:p}=j(),[S,h]=n.exports.useState(),[_,m]=n.exports.useState(!1),P=t=>{t.preventDefault(),M(route("eclaim.processdata",k),{preserveScroll:!0,onSuccess:s=>{d()},onError:()=>d(),onFinish:()=>p()})},D=(t,s)=>{v(s),o(!0)},d=()=>{o(!1),p()},r=t=>{h(t.target.getAttribute("data-url")),m(!0)},Y=t=>{h(""),m(!1)};return a(A,{children:[a("div",{className:"relative shadow-md sm:rounded-lg",children:[a("div",{className:"pb-4 bg-white dark:bg-gray-900 p-3",children:[e("label",{htmlFor:"table-search",className:"sr-only",children:"Search"}),a("div",{className:"relative mt-1",children:[e("div",{className:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none",children:e("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"})})}),e("input",{onChange:x,type:"text",id:"table-search",value:u,className:"block p-2 pl-10 w-80 text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Search for items"})]})]}),e("div",{className:"overflow-x-auto",children:a("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[e("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:a("tr",{children:[e("th",{scope:"col",className:"whitespace-nowrap text-center py-3 px-6",children:"Nomor Ticketing"}),e("th",{scope:"col",className:"whitespace-nowrap text-center py-3 px-6",children:"Tanggal Claim"}),e("th",{scope:"col",className:"whitespace-nowrap text-center py-3 px-6",children:"Nomor Resi"}),e("th",{scope:"col",className:"whitespace-nowrap text-center py-3 px-6",children:"Origin"}),e("th",{scope:"col",className:"whitespace-nowrap text-center py-3 px-6",children:"Destination"}),e("th",{scope:"col",className:"whitespace-nowrap text-center py-3 px-6",children:"SLA"}),e("th",{scope:"col",className:"whitespace-nowrap text-center py-3 px-6",children:"Lampiran"}),e("th",{scope:"col",className:"whitespace-nowrap text-center py-3 px-6",children:"Document"}),e("th",{scope:"col",className:"whitespace-nowrap text-center py-3 px-6",children:"Action"})]})}),c.data?e("tbody",{className:"relative z-10",children:c.data.map(t=>a("tr",{children:[e("td",{className:"py-3 px-6",children:t.ticket_id}),e("td",{className:"text-center py-3 px-6",children:g(t.created_at).format("DD-MM-YYYY")}),e("td",{className:"py-3 px-6",children:t.cnote.connote}),e("td",{className:"text-center py-3 px-6",children:t.cnote.shipper.origin}),e("td",{className:"text-center py-3 px-6",children:t.cnote.receiver.destination}),e("td",{className:"whitespace-nowrap text-center py-3 px-6",children:g(t.sla).format("DD-MM-YYYY")}),e("td",{className:"py-3 px-6",children:a("div",{className:"flex items-center justify-center gap-2",children:[e("button",{"data-url":t.complainant_idcard,onClick:r,className:"px-2 py-1.5 bg-brand-500 rounded-lg text-white hover:bg-brand-600 focus:bg-brand-700 focus:ring-2 focus:ring-brand-600 text-xs",children:"KTP"}),e("button",{"data-url":t.complainant_bank,onClick:r,className:"px-2 py-1.5 bg-brand-500 rounded-lg text-white hover:bg-brand-600 focus:bg-brand-700 focus:ring-2 focus:ring-brand-600 text-xs",children:"Rekening"}),e("button",{"data-url":t.complainant_nota,onClick:r,className:"px-2 py-1.5 bg-brand-500 rounded-lg text-white hover:bg-brand-600 focus:bg-brand-700 focus:ring-2 focus:ring-brand-600 text-xs",children:"Nota"}),e("button",{"data-url":t.transfer_nota,onClick:r,className:"px-2 py-1.5 bg-brand-500 rounded-lg text-white hover:bg-brand-600 focus:bg-brand-700 focus:ring-2 focus:ring-brand-600 text-xs",children:"Transfer"})]})}),e("td",{className:"py-3 px-6",children:e("div",{className:"flex justify-center",children:e("a",{className:"p-2 border-gray-500 border rounded-lg hover:bg-gray-500 hover:text-white shadow focus:ring focus:ring-gray-400 focus:bg-gray-600 focus:text-white",target:"_blank",href:route("eclaim.exportpdf",t.ticket_id),children:e(R,{})})})}),e("td",{className:"text-center py-3 px-6",children:e(i,{theme:"warning",type:"button",onClick:s=>D(s,t.id),children:"Process"})})]},t.id))}):e("tbody",{children:e("tr",{children:e("td",{className:"py-3 px-6 text-center",colSpan:7,children:"data tidak ditemukan"})})})]})})]}),e(F,{dataFrom:f,dataTo:y,dataTotal:b,linkPrev:N,linkNext:w}),e(I,{imgs:S,show:_,onClosed:Y}),e(T,{show:C,maxWidth:"md",onClose:d,closeable:!l,children:a("form",{className:"p-6",children:[e("h2",{className:"text-lg font-medium text-gray-900 text-center",children:"Apakah Anda ingin memproses Claim ini ?"}),a("div",{className:"mt-4 flex justify-center items-center gap-4",children:[e(i,{type:"button",theme:"success",onClick:P,processing:l,children:"Ya, Proses data claim ini !"}),e(i,{type:"button",theme:"danger",onClick:()=>o(!1),processing:l,children:"Tidak"})]}),e("div",{className:"mt-6"})]})})]})}export{G as default};
