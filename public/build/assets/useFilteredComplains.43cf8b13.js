import{r as v,_ as D,j as a,a as e,F as C,g as A,f as B}from"./app.92b8926d.js";import{d as H}from"./index.esm.2dad8280.js";import{a as L,b as M}from"./index.esm.903be655.js";import{h as P}from"./index.esm.fcc7f003.js";/* empty css              */import{T as S}from"./TextInput.a87532df.js";import{P as $}from"./PrimaryButton.f352a880.js";const J=({header:s,link:c,datefilter:l=!1,data:d,filters:h,sendFilter:i,decrementFiter:g,...p})=>{var F,j;const[n,x]=v.exports.useState(""),{serverFilters:k}=D().props;console.log(k);const[o,f]=v.exports.useState({...k}),m=t=>{const{name:r,value:u}=t.target;if(r==="connote")f({...o,[r]:u});else{const b=r.split(".")[0];f({...o,[b]:{...o[b],[r.split(".")[1]]:u}})}};console.log(o);const y=t=>{x(t)};v.exports.useEffect(()=>{const t=r=>{r.target.tagName=="TH"?y(r.target.getAttribute("data-item")):y("")};return window.addEventListener("click",t),()=>{window.removeEventListener("click",t)}});const N=t=>{t.preventDefault();const r=document.getElementById("filterinput");i({[r.name]:r.value})},w=t=>{const r={...h};delete r[t],g(r)},T=(t,r=!0,u=!0)=>e("div",{className:"absolute h-full text-white -bottom-full left-0",onClick:b=>b.stopPropagation(),children:a("div",{className:"bg-gray-900",children:[a("div",{className:"flex justify-end items-center text-2xl",children:[e("div",{className:"text-sm font-light px-4 py-2 mr-4",children:"Filters"}),r?a(C,{children:[e(B,{as:"a",method:"get",className:"text-xl py-2 px-4 hover:bg-black focus:border focus:border-blue-500",children:e(L,{})}),e(B,{as:"a",method:"get",className:"text-xl py-2 px-4 hover:bg-black focus:border focus:border-blue-500",children:e(M,{})})]}):a(C,{children:[e("button",{disabled:!0,className:"text-xl py-2 px-4 hover:bg-black focus:border focus:border-blue-500 disabled:cursor-not-allowed",children:e(L,{})}),e("button",{disabled:!0,className:"text-xl py-2 px-4 hover:bg-black focus:border focus:border-blue-500 disabled:cursor-not-allowed",children:e(M,{})})]})]}),e("form",{onSubmit:N,children:e("input",{disabled:!u,id:"filterinput",name:t,className:"w-full font-light text-white bg-gray-700 py-2 px-4 disabled:cursor-not-allowed"})})]})}),E=()=>e("thead",{className:"text-xs text-gray-700 bg-gray-200 border-b border-b-gray-300 dark:border-b-gray-600 dark:bg-gray-700 dark:text-gray-400 sticky top-0",children:a("tr",{className:"text-center",children:[e("th",{className:"px-6 py-1",children:"No"}),s.map((t,r)=>a("th",{scope:"col","data-item":t.column,className:`border-l border-l-gray-300 dark:border-l-gray-600 hover:cursor-pointer relative py-3 px-6 whitespace-nowrap ${n==t.column?"bg-gray-900 text-white":"bg-transparent"}`,children:[t.title,n==t.column&&T(t.column,t.sortable,t.filterable)]},r))]})}),O=()=>e(C,{children:e("div",{className:"inline-block lg:w-72 mb-2",children:Object.entries(h).map(([t,r])=>{const u=s.find(b=>b.column==t).title;return a("div",{className:"flex justify-start items-center gap-3 border hover:bg-green-100 mb-1",children:[e("div",{className:"p-1.5 bg-green-400 text-white text-xl",children:e(P,{})}),a("p",{className:"text-sm text-blue-500",children:[u," = ",r]}),e("button",{onClick:()=>w(t),className:"flex items-center justify-center ml-auto mr-2 focus:border-blue-500 hover:bg-gray-300 p-1 text-xs",children:e(H,{})})]},t)})})});return a("div",{className:"relative mb-3",children:[e("div",{}),l&&a("form",{className:"flex items-center gap-4 mb-3",onSubmit:t=>{t.preventDefault(),A.visit(window.location.href,{data:o})},children:[e("p",{children:"Create On"}),e(S,{name:`${l}.startfrom`,className:"text-xs",type:"date",onChange:m,value:((F=o[l])==null?void 0:F.startfrom)||""}),e("p",{children:"To"}),e(S,{name:`${l}.thru`,className:"text-xs",type:"date",onChange:m,value:((j=o[l])==null?void 0:j.thru)||""}),e(S,{name:"connote",className:"text-xs",placeholder:"awb",type:"text",onChange:m,value:o.connote||""}),e($,{title:"submit",type:"submit",padding:"px-3 py-2"})]}),a("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg mb-3 h-[70vh]",children:[O(),a("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400 relative",children:[E(),d]})]})]})};function K({currentPage:s,totalPages:c,onPageChange:l}){const d=s>1,h=s<c,i=Math.max(1,s-2),g=Math.min(c,i+4),p=Array.from({length:g-i+1},(n,x)=>i+x);return e("nav",{"aria-label":"Page navigation example",children:a("ul",{className:"flex items-center -space-x-px h-8 text-sm",children:[d&&e("li",{children:a("button",{onClick:()=>l(s-1),className:"flex items-center justify-center px-3 h-8 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",children:[e("span",{className:"sr-only",children:"Previous"}),e("svg",{className:"w-2.5 h-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10",children:e("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 1 1 5l4 4"})})]})}),p.map(n=>e("li",{children:e("button",{onClick:()=>l(n),disabled:s===n,className:"disabled:bg-gray-500 disabled:text-white flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",children:n})},n)),h&&e("li",{children:a("button",{onClick:()=>l(s+1),className:"flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",children:[e("span",{className:"sr-only",children:"Next"}),e("svg",{className:"w-2.5 h-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10",children:e("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 9 4-4-4-4"})})]})})]})})}function Q(s,c){const l=D().props,[d,h]=v.exports.useState(s),[i,g]=v.exports.useState(1),p=l.responses.filter(o=>{var f,m;for(const y in d){const N=(f=d[y])==null?void 0:f.toLowerCase(),w=(m=o[y])==null?void 0:m.toLowerCase();if(typeof w=="string"&&!w.includes(N))return!1}return!0}),n=Math.ceil(p.length/c),x=p.slice((i-1)*c,i*c);return{filters:d,setFilters:h,currentPage:i,setCurrentPage:g,displayData:x,totalPages:n,handlePageChange:o=>{g(o)}}}export{J as M,K as P,Q as u};
